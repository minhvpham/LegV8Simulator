{"ast":null,"code":"var _jsxFileName = \"/home/hoangnhoo/HTMT/src/components/CodeEditor.tsx\",\n  _s = $RefreshSig$();\nimport React, { useRef, useEffect } from 'react';\nimport Editor from '@monaco-editor/react';\nimport { useSimulatorStore } from '../store/simulatorStore';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CodeEditor = () => {\n  _s();\n  const editorRef = useRef(null);\n  const {\n    sourceCode,\n    setSourceCode,\n    loadProgram,\n    cpu,\n    currentStep\n  } = useSimulatorStore();\n  const handleEditorDidMount = (editor, monaco) => {\n    editorRef.current = editor;\n\n    // Register LEGv8 language\n    monaco.languages.register({\n      id: 'legv8'\n    });\n\n    // Define LEGv8 syntax highlighting\n    monaco.languages.setMonarchTokensProvider('legv8', {\n      tokenizer: {\n        root: [\n        // Comments\n        [/\\/\\/.*$/, 'comment'], [/\\/\\*/, 'comment', '@comment'],\n        // Instructions\n        [/\\b(ADD|SUB|AND|ORR|EOR|LSL|LSR|BR|B\\.EQ|B\\.NE|B\\.LT|B\\.LE|B\\.GT|B\\.GE|B\\.MI|B\\.PL|B\\.VS|B\\.VC|B\\.HI|B\\.LS|B\\.AL|CBZ|CBNZ|B|BL|ADDI|SUBI|ANDI|ORRI|EORI|LDUR|STUR|LDURB|STURB|LDURH|STURH|LDURSW|MOVZ|MOVK|CMP|CMPI|ADDS|SUBS|ANDS|NOP)\\b/, 'keyword'],\n        // Registers\n        [/\\b(X[0-9]|X[12][0-9]|X3[01]|XZR|SP|LR)\\b/, 'variable'],\n        // Numbers\n        [/#-?\\d+/, 'number'], [/\\b0x[0-9a-fA-F]+\\b/, 'number'], [/\\b\\d+\\b/, 'number'],\n        // Labels\n        [/^[a-zA-Z_][a-zA-Z0-9_]*:/, 'type'],\n        // Strings\n        [/\".*?\"/, 'string'],\n        // Brackets and operators\n        [/[\\[\\]]/, 'delimiter.bracket'], [/[,]/, 'delimiter']],\n        comment: [[/[^\\/*]+/, 'comment'], [/\\*\\//, 'comment', '@pop'], [/[\\/*]/, 'comment']]\n      }\n    });\n\n    // Define LEGv8 theme\n    monaco.editor.defineTheme('legv8-theme', {\n      base: 'vs',\n      inherit: true,\n      rules: [{\n        token: 'keyword',\n        foreground: '0066CC',\n        fontStyle: 'bold'\n      }, {\n        token: 'variable',\n        foreground: '008000',\n        fontStyle: 'bold'\n      }, {\n        token: 'number',\n        foreground: 'FF6600'\n      }, {\n        token: 'comment',\n        foreground: '808080',\n        fontStyle: 'italic'\n      }, {\n        token: 'string',\n        foreground: 'CC0000'\n      }, {\n        token: 'type',\n        foreground: '800080',\n        fontStyle: 'bold'\n      }],\n      colors: {\n        'editor.background': '#FFFFFF',\n        'editor.lineHighlightBackground': '#E3F2FD',\n        'editorLineNumber.foreground': '#999999',\n        'editorLineNumber.activeForeground': '#0066CC'\n      }\n    });\n\n    // Set the theme\n    monaco.editor.setTheme('legv8-theme');\n  };\n  const handleEditorChange = value => {\n    if (value !== undefined) {\n      setSourceCode(value);\n      parseAndLoadProgram(value);\n    }\n  };\n  const parseAndLoadProgram = code => {\n    // Parse assembly code into instructions\n    const lines = code.split('\\n').map(line => line.trim()).filter(line => line && !line.startsWith('//'));\n    const instructions = lines.map((line, index) => ({\n      address: index * 4,\n      machineCode: '00000000',\n      assembly: line,\n      type: 'R',\n      fields: {\n        opcode: line.split(/\\s+/)[0] || 'NOP'\n      }\n    }));\n    loadProgram(instructions);\n  };\n\n  // Highlight current line\n  useEffect(() => {\n    if (editorRef.current && cpu.currentInstruction) {\n      const editor = editorRef.current;\n      const model = editor.getModel();\n      if (model) {\n        // Clear previous decorations\n        const oldDecorations = editor.getModel().getAllDecorations();\n        const decorationIds = oldDecorations.filter(d => d.options.className === 'current-line-highlight').map(d => d.id);\n        editor.deltaDecorations(decorationIds, []);\n\n        // Add new decoration for current line\n        const lineNumber = currentStep + 1; // Convert to 1-based line number\n        const decorations = [{\n          range: {\n            startLineNumber: lineNumber,\n            startColumn: 1,\n            endLineNumber: lineNumber,\n            endColumn: model.getLineMaxColumn(lineNumber)\n          },\n          options: {\n            className: 'current-line-highlight',\n            isWholeLine: true,\n            backgroundColor: '#FFE082',\n            marginClassName: 'current-line-margin'\n          }\n        }];\n        editor.deltaDecorations([], decorations);\n\n        // Scroll to current line\n        editor.revealLineInCenter(lineNumber);\n      }\n    }\n  }, [currentStep, cpu.currentInstruction]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"h-full flex flex-col\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center justify-between p-3 bg-gray-50 border-b\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-sm font-semibold text-gray-700\",\n        children: \"LEGv8 Assembly Editor\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center space-x-2 text-xs text-gray-500\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: [\"Line: \", currentStep + 1]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"\\u2022\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: [\"Instructions: \", cpu.instructionMemory.length]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex-1\",\n      children: /*#__PURE__*/_jsxDEV(Editor, {\n        height: \"100%\",\n        language: \"legv8\",\n        theme: \"legv8-theme\",\n        value: sourceCode,\n        onChange: handleEditorChange,\n        onMount: handleEditorDidMount,\n        options: {\n          minimap: {\n            enabled: false\n          },\n          fontSize: 14,\n          lineNumbers: 'on',\n          roundedSelection: false,\n          scrollBeyondLastLine: false,\n          automaticLayout: true,\n          tabSize: 2,\n          insertSpaces: true,\n          wordWrap: 'on',\n          lineNumbersMinChars: 3,\n          glyphMargin: true,\n          folding: false,\n          selectOnLineNumbers: true,\n          selectionHighlight: false,\n          cursorStyle: 'line',\n          renderLineHighlight: 'line'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-2 bg-gray-50 border-t text-xs text-gray-600\",\n      children: /*#__PURE__*/_jsxDEV(\"details\", {\n        children: [/*#__PURE__*/_jsxDEV(\"summary\", {\n          className: \"cursor-pointer font-medium\",\n          children: \"LEGv8 Quick Reference\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-2 space-y-1\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Arithmetic:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 196,\n              columnNumber: 18\n            }, this), \" ADD, SUB, ADDI, SUBI\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 196,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Logical:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 197,\n              columnNumber: 18\n            }, this), \" AND, ORR, EOR, ANDI, ORRI, EORI\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 197,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Memory:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 198,\n              columnNumber: 18\n            }, this), \" LDUR, STUR, LDURB, STURB\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 198,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Branch:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 199,\n              columnNumber: 18\n            }, this), \" B, B.EQ, B.NE, CBZ, CBNZ\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 199,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Registers:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 200,\n              columnNumber: 18\n            }, this), \" X0-X31, XZR (zero), SP (stack pointer)\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 200,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 152,\n    columnNumber: 5\n  }, this);\n};\n_s(CodeEditor, \"f1XFEx74FiCqi183h/4Ud//YrrI=\", false, function () {\n  return [useSimulatorStore];\n});\n_c = CodeEditor;\nexport default CodeEditor;\nvar _c;\n$RefreshReg$(_c, \"CodeEditor\");","map":{"version":3,"names":["React","useRef","useEffect","Editor","useSimulatorStore","jsxDEV","_jsxDEV","CodeEditor","_s","editorRef","sourceCode","setSourceCode","loadProgram","cpu","currentStep","handleEditorDidMount","editor","monaco","current","languages","register","id","setMonarchTokensProvider","tokenizer","root","comment","defineTheme","base","inherit","rules","token","foreground","fontStyle","colors","setTheme","handleEditorChange","value","undefined","parseAndLoadProgram","code","lines","split","map","line","trim","filter","startsWith","instructions","index","address","machineCode","assembly","type","fields","opcode","currentInstruction","model","getModel","oldDecorations","getAllDecorations","decorationIds","d","options","className","deltaDecorations","lineNumber","decorations","range","startLineNumber","startColumn","endLineNumber","endColumn","getLineMaxColumn","isWholeLine","backgroundColor","marginClassName","revealLineInCenter","children","fileName","_jsxFileName","columnNumber","instructionMemory","length","height","language","theme","onChange","onMount","minimap","enabled","fontSize","lineNumbers","roundedSelection","scrollBeyondLastLine","automaticLayout","tabSize","insertSpaces","wordWrap","lineNumbersMinChars","glyphMargin","folding","selectOnLineNumbers","selectionHighlight","cursorStyle","renderLineHighlight","_c","$RefreshReg$"],"sources":["/home/hoangnhoo/HTMT/src/components/CodeEditor.tsx"],"sourcesContent":["import React, { useRef, useEffect } from 'react';\nimport Editor from '@monaco-editor/react';\nimport { useSimulatorStore } from '../store/simulatorStore';\n\nconst CodeEditor: React.FC = () => {\n  const editorRef = useRef<any>(null);\n  const {\n    sourceCode,\n    setSourceCode,\n    loadProgram,\n    cpu,\n    currentStep,\n  } = useSimulatorStore();\n\n  const handleEditorDidMount = (editor: any, monaco: any) => {\n    editorRef.current = editor;\n\n    // Register LEGv8 language\n    monaco.languages.register({ id: 'legv8' });\n\n    // Define LEGv8 syntax highlighting\n    monaco.languages.setMonarchTokensProvider('legv8', {\n      tokenizer: {\n        root: [\n          // Comments\n          [/\\/\\/.*$/, 'comment'],\n          [/\\/\\*/, 'comment', '@comment'],\n          \n          // Instructions\n          [/\\b(ADD|SUB|AND|ORR|EOR|LSL|LSR|BR|B\\.EQ|B\\.NE|B\\.LT|B\\.LE|B\\.GT|B\\.GE|B\\.MI|B\\.PL|B\\.VS|B\\.VC|B\\.HI|B\\.LS|B\\.AL|CBZ|CBNZ|B|BL|ADDI|SUBI|ANDI|ORRI|EORI|LDUR|STUR|LDURB|STURB|LDURH|STURH|LDURSW|MOVZ|MOVK|CMP|CMPI|ADDS|SUBS|ANDS|NOP)\\b/, 'keyword'],\n          \n          // Registers\n          [/\\b(X[0-9]|X[12][0-9]|X3[01]|XZR|SP|LR)\\b/, 'variable'],\n          \n          // Numbers\n          [/#-?\\d+/, 'number'],\n          [/\\b0x[0-9a-fA-F]+\\b/, 'number'],\n          [/\\b\\d+\\b/, 'number'],\n          \n          // Labels\n          [/^[a-zA-Z_][a-zA-Z0-9_]*:/, 'type'],\n          \n          // Strings\n          [/\".*?\"/, 'string'],\n          \n          // Brackets and operators\n          [/[\\[\\]]/, 'delimiter.bracket'],\n          [/[,]/, 'delimiter'],\n        ],\n        \n        comment: [\n          [/[^\\/*]+/, 'comment'],\n          [/\\*\\//, 'comment', '@pop'],\n          [/[\\/*]/, 'comment']\n        ],\n      },\n    });\n\n    // Define LEGv8 theme\n    monaco.editor.defineTheme('legv8-theme', {\n      base: 'vs',\n      inherit: true,\n      rules: [\n        { token: 'keyword', foreground: '0066CC', fontStyle: 'bold' },\n        { token: 'variable', foreground: '008000', fontStyle: 'bold' },\n        { token: 'number', foreground: 'FF6600' },\n        { token: 'comment', foreground: '808080', fontStyle: 'italic' },\n        { token: 'string', foreground: 'CC0000' },\n        { token: 'type', foreground: '800080', fontStyle: 'bold' },\n      ],\n      colors: {\n        'editor.background': '#FFFFFF',\n        'editor.lineHighlightBackground': '#E3F2FD',\n        'editorLineNumber.foreground': '#999999',\n        'editorLineNumber.activeForeground': '#0066CC',\n      }\n    });\n\n    // Set the theme\n    monaco.editor.setTheme('legv8-theme');\n  };\n\n  const handleEditorChange = (value: string | undefined) => {\n    if (value !== undefined) {\n      setSourceCode(value);\n      parseAndLoadProgram(value);\n    }\n  };\n\n  const parseAndLoadProgram = (code: string) => {\n    // Parse assembly code into instructions\n    const lines = code.split('\\n')\n      .map(line => line.trim())\n      .filter(line => line && !line.startsWith('//'));\n\n    const instructions = lines.map((line, index) => ({\n      address: index * 4,\n      machineCode: '00000000',\n      assembly: line,\n      type: 'R' as const,\n      fields: { \n        opcode: line.split(/\\s+/)[0] || 'NOP'\n      }\n    }));\n\n    loadProgram(instructions);\n  };\n\n  // Highlight current line\n  useEffect(() => {\n    if (editorRef.current && cpu.currentInstruction) {\n      const editor = editorRef.current;\n      const model = editor.getModel();\n      \n      if (model) {\n        // Clear previous decorations\n        const oldDecorations = editor.getModel().getAllDecorations();\n        const decorationIds = oldDecorations\n          .filter((d: any) => d.options.className === 'current-line-highlight')\n          .map((d: any) => d.id);\n        \n        editor.deltaDecorations(decorationIds, []);\n\n        // Add new decoration for current line\n        const lineNumber = currentStep + 1; // Convert to 1-based line number\n        const decorations = [\n          {\n            range: {\n              startLineNumber: lineNumber,\n              startColumn: 1,\n              endLineNumber: lineNumber,\n              endColumn: model.getLineMaxColumn(lineNumber),\n            },\n            options: {\n              className: 'current-line-highlight',\n              isWholeLine: true,\n              backgroundColor: '#FFE082',\n              marginClassName: 'current-line-margin',\n            },\n          },\n        ];\n\n        editor.deltaDecorations([], decorations);\n\n        // Scroll to current line\n        editor.revealLineInCenter(lineNumber);\n      }\n    }\n  }, [currentStep, cpu.currentInstruction]);\n\n  return (\n    <div className=\"h-full flex flex-col\">\n      <div className=\"flex items-center justify-between p-3 bg-gray-50 border-b\">\n        <h3 className=\"text-sm font-semibold text-gray-700\">LEGv8 Assembly Editor</h3>\n        <div className=\"flex items-center space-x-2 text-xs text-gray-500\">\n          <span>Line: {currentStep + 1}</span>\n          <span>•</span>\n          <span>Instructions: {cpu.instructionMemory.length}</span>\n        </div>\n      </div>\n      \n      <div className=\"flex-1\">\n        <Editor\n          height=\"100%\"\n          language=\"legv8\"\n          theme=\"legv8-theme\"\n          value={sourceCode}\n          onChange={handleEditorChange}\n          onMount={handleEditorDidMount}\n          options={{\n            minimap: { enabled: false },\n            fontSize: 14,\n            lineNumbers: 'on',\n            roundedSelection: false,\n            scrollBeyondLastLine: false,\n            automaticLayout: true,\n            tabSize: 2,\n            insertSpaces: true,\n            wordWrap: 'on',\n            lineNumbersMinChars: 3,\n            glyphMargin: true,\n            folding: false,\n            selectOnLineNumbers: true,\n            selectionHighlight: false,\n            cursorStyle: 'line',\n            renderLineHighlight: 'line',\n          }}\n        />\n      </div>\n\n      {/* Quick reference */}\n      <div className=\"p-2 bg-gray-50 border-t text-xs text-gray-600\">\n        <details>\n          <summary className=\"cursor-pointer font-medium\">LEGv8 Quick Reference</summary>\n          <div className=\"mt-2 space-y-1\">\n            <div><strong>Arithmetic:</strong> ADD, SUB, ADDI, SUBI</div>\n            <div><strong>Logical:</strong> AND, ORR, EOR, ANDI, ORRI, EORI</div>\n            <div><strong>Memory:</strong> LDUR, STUR, LDURB, STURB</div>\n            <div><strong>Branch:</strong> B, B.EQ, B.NE, CBZ, CBNZ</div>\n            <div><strong>Registers:</strong> X0-X31, XZR (zero), SP (stack pointer)</div>\n          </div>\n        </details>\n      </div>\n    </div>\n  );\n};\n\nexport default CodeEditor; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}