{"ast":null,"code":"import React from'react';import{useSimulatorStore}from'../../store/simulatorStore';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ControlUnit=()=>{var _cpu$currentInstructi;const{cpu}=useSimulatorStore();const controlSignals=[{name:'Reg2Loc',value:cpu.controlSignals.reg2Loc},{name:'UncondBranch',value:cpu.controlSignals.uncondBranch},{name:'FlagBranch',value:cpu.controlSignals.flagBranch},{name:'ZeroBranch',value:cpu.controlSignals.zeroBranch},{name:'MemRead',value:cpu.controlSignals.memRead},{name:'MemToReg',value:cpu.controlSignals.memToReg},{name:'MemWrite',value:cpu.controlSignals.memWrite},{name:'FlagWrite',value:cpu.controlSignals.flagWrite},{name:'ALUSrc',value:cpu.controlSignals.aluSrc},{name:'RegWrite',value:cpu.controlSignals.regWrite}];return/*#__PURE__*/_jsxs(\"div\",{className:\"cpu-component h-full flex flex-col bg-cpu-blue bg-opacity-10\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-xs font-bold text-cpu-blue mb-2 text-center\",children:\"Control Unit\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3 text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-600\",children:\"Instruction\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm font-mono bg-white px-2 py-1 rounded border\",children:((_cpu$currentInstructi=cpu.currentInstruction)===null||_cpu$currentInstructi===void 0?void 0:_cpu$currentInstructi.fields.opcode)||'NOP'})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex-1 overflow-y-auto\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[controlSignals.map(signal=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",\"data-signal\":signal.name.toLowerCase(),children:[/*#__PURE__*/_jsxs(\"span\",{className:\"text-xs font-medium\",children:[signal.name,\":\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"w-4 h-4 rounded-full border-2 \".concat(signal.value?'bg-cpu-blue border-cpu-blue':'bg-white border-gray-300')})]},signal.name)),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-xs font-medium\",children:\"ALUOp:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs font-mono bg-white px-2 py-1 rounded border\",children:cpu.controlSignals.aluOp})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-2 text-xs text-gray-600 text-center\",children:[\"Control Lines Active: \",controlSignals.filter(s=>s.value).length]})]});};export default ControlUnit;","map":{"version":3,"names":["React","useSimulatorStore","jsx","_jsx","jsxs","_jsxs","ControlUnit","_cpu$currentInstructi","cpu","controlSignals","name","value","reg2Loc","uncondBranch","flagBranch","zeroBranch","memRead","memToReg","memWrite","flagWrite","aluSrc","regWrite","className","children","currentInstruction","fields","opcode","map","signal","toLowerCase","concat","aluOp","filter","s","length"],"sources":["/home/hoangnhoo/HTMT/src/components/CPU/ControlUnit.tsx"],"sourcesContent":["import React from 'react';\nimport { useSimulatorStore } from '../../store/simulatorStore';\n\nconst ControlUnit: React.FC = () => {\n  const { cpu } = useSimulatorStore();\n\n  const controlSignals = [\n    { name: 'Reg2Loc', value: cpu.controlSignals.reg2Loc },\n    { name: 'UncondBranch', value: cpu.controlSignals.uncondBranch },\n    { name: 'FlagBranch', value: cpu.controlSignals.flagBranch },\n    { name: 'ZeroBranch', value: cpu.controlSignals.zeroBranch },\n    { name: 'MemRead', value: cpu.controlSignals.memRead },\n    { name: 'MemToReg', value: cpu.controlSignals.memToReg },\n    { name: 'MemWrite', value: cpu.controlSignals.memWrite },\n    { name: 'FlagWrite', value: cpu.controlSignals.flagWrite },\n    { name: 'ALUSrc', value: cpu.controlSignals.aluSrc },\n    { name: 'RegWrite', value: cpu.controlSignals.regWrite },\n  ];\n\n  return (\n    <div className=\"cpu-component h-full flex flex-col bg-cpu-blue bg-opacity-10\">\n      <div className=\"text-xs font-bold text-cpu-blue mb-2 text-center\">\n        Control Unit\n      </div>\n      \n      {/* Current instruction opcode */}\n      <div className=\"mb-3 text-center\">\n        <div className=\"text-xs text-gray-600\">Instruction</div>\n        <div className=\"text-sm font-mono bg-white px-2 py-1 rounded border\">\n          {cpu.currentInstruction?.fields.opcode || 'NOP'}\n        </div>\n      </div>\n\n      {/* Control signals */}\n      <div className=\"flex-1 overflow-y-auto\">\n        <div className=\"space-y-2\">\n          {controlSignals.map((signal) => (\n            <div \n              key={signal.name}\n              className=\"flex justify-between items-center\"\n              data-signal={signal.name.toLowerCase()}\n            >\n              <span className=\"text-xs font-medium\">{signal.name}:</span>\n              <div \n                className={`w-4 h-4 rounded-full border-2 ${\n                  signal.value \n                    ? 'bg-cpu-blue border-cpu-blue' \n                    : 'bg-white border-gray-300'\n                }`}\n              />\n            </div>\n          ))}\n          \n          {/* ALU Operation */}\n          <div className=\"flex justify-between items-center\">\n            <span className=\"text-xs font-medium\">ALUOp:</span>\n            <div className=\"text-xs font-mono bg-white px-2 py-1 rounded border\">\n              {cpu.controlSignals.aluOp}\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Control lines output indicator */}\n      <div className=\"mt-2 text-xs text-gray-600 text-center\">\n        Control Lines Active: {controlSignals.filter(s => s.value).length}\n      </div>\n    </div>\n  );\n};\n\nexport default ControlUnit; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}